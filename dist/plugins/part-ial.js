(()=>{class e extends HTMLElement{#e;get src(){return this.#e||(this.#e=this.getAttribute("src"))}set src(e){this.#e=e,this.connectedCallback()}async connectedCallback(){return this.src&&await(await fetch(this.src,JSON.parse(this.getAttribute("options")||"{}"))).body.pipeThrough(new TextDecoderStream).pipeTo(((e,t)=>{let r=document.implementation.createHTMLDocument();r.write("<article>");let i=r.body.firstElementChild;return e.appendChild(i),new WritableStream({write(e){r.write(e)},close(){r.close(),function e(t){t.querySelectorAll("template[shadowrootmode]").forEach((t=>{let r=t.parentNode.attachShadow({mode:"open"});r.appendChild(t.content),t.remove(),e(r)}))}(i),t&&e[t](i.firstElementChild)},abort(e){r.close(),console.error(`part-ial aborted: ${e}`)}})})(this,this.getAttribute("mode")))}}customElements.define("part-ial",e)})();
